### <AuthContext>

```typescript
type AuthContextType = {
  user: User | null
  userClubs: {
    [club_id: string]: StatusInClub  // "admin" | "co-owner"
  },
  affiliatedPlayers: [
    [club_id: string]: string // player-id
  ]
}
```

### заметки

ограничение на 2 или 3 незавершенных турнира одновременно. пользователю предоставляется опция закрыть все незавершённые турниры одной кнопкой. или удалить
== обязательно ограничние на незакрытые турниры. либо удаляй, либо дописывай результаты и закрывай ==

нужно хранить "рейтинг игрока до партии" потому что как только мы записываем результат мы хотим динамически везде обновлять рейтинги этих игроков, но если результат записан неправильно и его меняют, нам надо вернуть предыдущие значения рейтингов. хранить можно просто в редисе по айди игры и удалять по завершении турнира.

### клуб

- [x] по дефолту создаётся клуб с названием `${lichess_nickname}`s chess club`
- [ ] при первом создании турнира у человека выскакивает модал с объяснением, что:
  - a: если у него есть команда, лучше поменять `${lichess_nickname}`s chess club` на название команды
  - б: если кто-то уже делал эту команду на мктуре, он может вступить в неё а не делать дубликат.
- [x] у юзера не может быть ноль команд. то есть пока он не стал админом другой команды он не может удалить свою дефолтную
- [x] турниры линкаются только к клубам, а не к юзерам которые его создают
- [ ] в будущем если юзер хочет удалить клуб, который уже проводил турниры, и при этом юзер - админ какого-то ещё клуба, ему предлагается перенести те турниры в какого-нибудь из его остальных клубов напр:
  - юзер X провёл турнир под клубом "клуб Х" дальше стал админом команд Y и Z. теперь когда он хочет удалить своего дефолтного "клуб X" ему предлагается три опции:
    - перенести игроков и историю турниров в клуб Y
    - перенести игроков и историю турниров в клуб Z
    - удалить турниры проводившиеся от "клуб Х"
- [ ] если один из админов команды не является админом другой команды (удалил своего дефолтную команду), эту команду удалить нельзя.

UPD 23.05.2025:
в клубе есть статусы co-owner и admin. у человека должен быть хотя бы один клуб, где человек ко-оунер. если его сделали админом в другом клубе он все ещё не может удалять свой дефолтный. если его сделали ко-оунером - может.
